global:
  smtp_smarthost: 'localhost:587'
  smtp_from: 'alertmanager@your-domain.com'

route:
  group_by: ['alertname']
  group_wait: 10s
  group_interval: 10s
  repeat_interval: 1h
  receiver: 'telegram-notifications'
  
  routes:
    - match:
        severity: critical
      receiver: 'telegram-critical'
      repeat_interval: 10m
      group_wait: 5s
      
    - match:
        severity: warning
      receiver: 'telegram-warning'
      repeat_interval: 30m

receivers:
  - name: 'telegram-notifications'
    telegram_configs:
      - bot_token: '8122760259:AAGmxaNBuRBa3Czomez_hTd1BI5G37M2pN8'
        chat_id: 1061129761
        parse_mode: 'HTML'
        message: 'ğŸ”„ <b>ALERT NOTIFICATION</b> ğŸ”„
{{ range .Alerts }}
â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
<b>ğŸ”” {{ .Labels.alertname }}</b>
<b>ğŸ“ Instance:</b> {{ .Labels.instance }}
<b>ğŸš¨ Severity:</b> {{ .Labels.severity }}
<b>ğŸ“ Summary:</b> {{ .Annotations.summary }}
<b>â° Started:</b> {{ .StartsAt.Format "2006-01-02 15:04:05" }}
{{ end }}'

  - name: 'telegram-critical'
    telegram_configs:
      - bot_token: '8122760259:AAGmxaNBuRBa3Czomez_hTd1BI5G37M2pN8'
        chat_id: 1061129761
        parse_mode: 'HTML'
        message: 'ğŸš¨ğŸš¨ <b>CRITICAL ALERT</b> ğŸš¨ğŸš¨
{{ range .Alerts }}
âš ï¸âš ï¸âš ï¸âš ï¸âš ï¸âš ï¸âš ï¸âš ï¸âš ï¸âš ï¸âš ï¸âš ï¸
<b>ğŸ†˜ {{ .Labels.alertname }}</b>
<b>ğŸ”´ Instance:</b> <code>{{ .Labels.instance }}</code>
<b>ğŸ“› Severity:</b> <b>CRITICAL</b>
<b>ğŸ“‹ Description:</b> {{ .Annotations.description }}
<b>ğŸ• Detected:</b> {{ .StartsAt.Format "15:04:05" }}
<b>ğŸ“… Date:</b> {{ .StartsAt.Format "02/01/2006" }}
âš ï¸âš ï¸âš ï¸âš ï¸âš ï¸âš ï¸âš ï¸âš ï¸âš ï¸âš ï¸âš ï¸âš ï¸
{{ end }}
<b>ğŸ¯ Action Required:</b> Immediate investigation needed!'

  - name: 'telegram-warning'
    telegram_configs:
      - bot_token: '8122760259:AAGmxaNBuRBa3Czomez_hTd1BI5G37M2pN8'
        chat_id: 1061129761
        parse_mode: 'HTML'
        message: 'âš ï¸ <b>WARNING ALERT</b> âš ï¸
{{ range .Alerts }}
â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
<b>ğŸ“¢ {{ .Labels.alertname }}</b>
<b>ğŸ“ Instance:</b> <code>{{ .Labels.instance }}</code>
<b>ğŸŸ¡ Severity:</b> WARNING
<b>ğŸ“ Issue:</b> {{ .Annotations.summary }}
<b>ğŸ•’ Started:</b> {{ .StartsAt.Format "15:04:05" }}
{{ end }}
<b>ğŸ’¡ Recommendation:</b> Monitor the situation'
